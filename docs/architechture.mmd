flowchart TD
    classDef device      fill:#1e1e2e,stroke:#89b4fa,color:#cdd6f4
    classDef fx          fill:#313244,stroke:#cba6f7,color:#cdd6f4
    classDef output      fill:#313244,stroke:#f38ba8,color:#cdd6f4
    classDef destination fill:#1e1e2e,stroke:#fab387,color:#cdd6f4

    subgraph REAPER ["ðŸŽ¬ REAPER"]
        direction TB

        subgraph RPT ["ðŸŽžï¸ Track Â· LTC"]
            direction TB
            subgraph TRACKITEMS ["Track Items"]
                A1("ðŸŽµ TC Audio Item"):::device
            end
            subgraph MIXER ["Mixer"]
                direction LR
                IN_LTC(["IN"])
                FX(["ReaTC JSFX"]):::fx
                OUT_LTC(["OUT"]):::output
                IN_LTC --> FX --> OUT_LTC
            end
            A1 --> IN_LTC
        end

        subgraph AUDIO_TRACK ["ðŸ”Š Track Â· Audio"]
            direction TB
            subgraph TRACKITEMS_A ["Track Items"]
                A2("ðŸŽµ Audio Item"):::device
            end
            subgraph MIXER_A ["Mixer"]
                direction LR
                IN_A(["IN"])
                FX_A(["FX"]):::fx
                OUT_A(["OUT"]):::output
                IN_A --> FX_A --> OUT_A
            end
            TRACKITEMS_A --> IN_A
        end

        subgraph SCRIPT ["âš™ï¸ ReaJS Script"]
            direction LR

            subgraph GEN ["Generators"]
                MTC(["MTC"])
                ArtNet(["Art-Net"])
            end
        end

        subgraph JSFX_WINDOW ["ðŸ–¥ï¸ JSFX Window"]
            direction LR
            TC_VIEW(["ðŸ• 00:00:00:00"])
            Controls(["â¯ Controls"])
        end

        PHY_OUT(["ðŸ”Œ Audio Device Output"]):::output
        HD_OUT2(["ðŸŽ›ï¸ Master Output"]):::output
    end

    SPEAKERS(["ðŸ”ˆ Speakers"]):::output

    subgraph LTC_LISTENERS ["ðŸ“¡ Timecode Destinations"]
        direction LR
        subgraph GMA3_VIZ ["GrandMA3 Viz"]
            style GMA3_VIZ stroke:#f9a825,stroke-width:2px,fill:#1a1200
            ARTNET_IN(["art-net in"]):::destination
        end
        subgraph GMA3 ["GrandMA3 Console"]
            style GMA3 stroke:#ffeb3b,stroke-width:2px,fill:#1a1a00
            LTC_IN(["LTC Input"]):::destination
        end
        subgraph QLAB ["QLab"]
            style QLAB stroke:#66bb6a,stroke-width:2px,fill:#001a00
            MTC_IN(["MTC In"]):::destination
        end
    end

    OUT_LTC --> PHY_OUT
    OUT_LTC --> SCRIPT
    FX --x JSFX_WINDOW
    OUT_A --> HD_OUT2
    HD_OUT2 --> SPEAKERS
    ArtNet --> ARTNET_IN
    MTC --> MTC_IN
    PHY_OUT --> LTC_IN
